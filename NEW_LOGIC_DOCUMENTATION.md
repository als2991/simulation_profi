# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥ —Å OpenAI**, –≥–¥–µ AI –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏, –∑–∞–¥–∞–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### `scenarios`
–•—Ä–∞–Ω–∏—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏.

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `profession_id` | ID –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ |
| `system_prompt` | –†–æ–ª—å AI (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–¢—ã ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è Project Manager...") |

**–ü—Ä–∏–º–µ—Ä:**
```
–¢—ã ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ Project Manager.
–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –∑–∞–¥–∞–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏, –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –∏ –¥–∞–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
–¢—ã –Ω–µ –¥–∞–µ—à—å –ø–æ–¥—Å–∫–∞–∑–æ–∫, –Ω–µ –æ–±—ä—è—Å–Ω—è–µ—à—å, –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—à—å –æ—Ç–≤–µ—Ç—ã.
–í—Å—ë —Å—Ç—Ä–æ–≥–æ, –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ.
```

#### `tasks`
–•—Ä–∞–Ω–∏—Ç —à–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞–Ω–∏–π.

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `scenario_id` | ID —Å—Ü–µ–Ω–∞—Ä–∏—è |
| `description_template` | –¢–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è –¥–ª—è user role |
| `order` | –ü–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä |
| `type` | –¢–∏–ø –∑–∞–¥–∞–Ω–∏—è |
| `time_limit_minutes` | –õ–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ |

**–ü—Ä–∏–º–µ—Ä –¥–ª—è –∑–∞–¥–∞–Ω–∏—è ‚Ññ1:**
```
–≠—Ç–∞–ø 0. –í–≤–æ–¥–Ω—ã–µ:
–ü—Ä–æ—Ñ–µ—Å—Å–∏—è: Project Manager
–§–æ—Ä–º–∞—Ç: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è
–í—Ä–µ–º—è: ~60‚Äì90 –º–∏–Ω—É—Ç
–ü—Ä–∞–≤–∏–ª–æ: –æ—Ç–≤–µ—á–∞–π –∫–∞–∫ –Ω–∞ —Ä–∞–±–æ—Ç–µ, –±–µ–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫.

–ü—Ä–æ–µ–∫—Ç: B2B-—Å–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞
–ö–æ–º–∞–Ω–¥–∞: 5 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, 1 –¥–∏–∑–∞–π–Ω–µ—Ä
–ö–ª–∏–µ–Ω—Ç –ø–ª–∞—Ç–∏—Ç –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Å—Ä–æ–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã
–ë—é–¥–∂–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –º–µ–Ω—è—é—Ç—Å—è

–≠—Ç–∞–ø 1. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è:
–ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (10 –ø—É–Ω–∫—Ç–æ–≤) ‚Äî –≤—Å–µ –ø–æ—Å—Ç—É–ø–∏–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ1:
1. –í—ã–±–µ—Ä–∏ –¢–û–ü-3 –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–π–¥—É—Ç –≤ —Ä–∞–±–æ—Ç—É –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å
2. –ö—Ä–∞—Ç–∫–æ –æ–±—ä—è—Å–Ω–∏ –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –æ–Ω–∏
3. –£–∫–∞–∂–∏ —á—Ç–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—à—å –∏ –∫–∞–∫–∏–µ —Ä–∏—Å–∫–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—à—å
–û—Ç–≤–µ—á–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ, –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ.
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è –∑–∞–¥–∞–Ω–∏—è ‚Ññ2:**
```
–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –ó–∞–¥–∞–Ω–∏–µ ‚Ññ2 ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –∫–ª–∏–µ–Ω—Ç–∞.
```

#### `report_templates`
–•—Ä–∞–Ω–∏—Ç —à–∞–±–ª–æ–Ω—ã –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤.

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `profession_id` | ID –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ |
| `template_text` | –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞ |

**–ü—Ä–∏–º–µ—Ä:**
```
–¢–µ–ø–µ—Ä—å –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ —Å—Ñ–æ—Ä–º–∏—Ä—É–π –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ —Å–∏–º—É–ª—è—Ü–∏–∏:
1. –û–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞
2. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è
3. –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º
4. –ö–ª—é—á–µ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ
5. –ü—Ä–æ—Ñ–∏–ª—å PM
6. –ì–¥–µ —Å–∏–ª—å–Ω–µ–µ
7. –ß–µ—Å—Ç–Ω—ã–π –≤–µ—Ä–¥–∏–∫—Ç
```

#### `user_tasks`
–•—Ä–∞–Ω–∏—Ç –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `question` | –í–æ–ø—Ä–æ—Å –æ—Ç AI |
| `answer` | –û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

#### `user_progress`
–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `conversation_history` | JSON –º–∞—Å—Å–∏–≤ —Å –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–∞ |
| `final_report` | –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ—Ç AI |

## üîÑ –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –®–∞–≥ 1: –°—Ç–∞—Ä—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏

**Frontend ‚Üí Backend:**
```
GET /api/tasks/profession/{profession_id}/current
```

**Backend –ª–æ–≥–∏–∫–∞:**
1. –ü–æ–ª—É—á–∞–µ—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç `user_progress`
2. –ü–æ–ª—É—á–∞–µ—Ç `scenario.system_prompt`
3. –ü–æ–ª—É—á–∞–µ—Ç –ø–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ (`tasks` –≥–¥–µ `order = 1`)
4. –§–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ OpenAI:

```python
messages = [
    {
        "role": "system",
        "content": scenario.system_prompt
    },
    {
        "role": "user",
        "content": task.description_template  # –ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
    }
]
```

5. OpenAI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–æ–ø—Ä–æ—Å
6. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 1,
  "order": 1,
  "type": "prioritization",
  "time_limit_minutes": 15,
  "question": "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–æ–ø—Ä–æ—Å –æ—Ç AI..."
}
```

### –®–∞–≥ 2: –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ (–Ω–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ)

**Frontend ‚Üí Backend:**
```
POST /api/tasks/{task_id}/submit
Body: { "answer": "–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..." }
```

**Backend –ª–æ–≥–∏–∫–∞:**
1. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç–≤–µ—Ç –≤ `user_tasks`
2. –î–æ–±–∞–≤–ª—è–µ—Ç –≤ `conversation_history`:
```json
{
  "role": "user",
  "content": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ1: [–æ—Ç–≤–µ—Ç]"
}
```

3. –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è:
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ1: [–æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –ó–∞–¥–∞–Ω–∏–µ ‚Ññ2 ‚Äî –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –∫–ª–∏–µ–Ω—Ç–∞.
```

4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ OpenAI:
```python
messages = [
    {"role": "system", "content": scenario.system_prompt},
    {"role": "user", "content": —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–ø—Ä–æ–º–ø—Ç}
]
```

5. OpenAI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
6. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–æ–ø—Ä–æ—Å –≤ `conversation_history`:
```json
{
  "role": "assistant",
  "content": "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –æ—Ç AI..."
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "completed": false,
  "next_task": {
    "id": 2,
    "order": 2,
    "type": "conflict",
    "time_limit_minutes": 15,
    "question": "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –æ—Ç AI..."
  }
}
```

### –®–∞–≥ 3: –ü–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞

**Backend –ª–æ–≥–∏–∫–∞:**
1. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —á—Ç–æ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ
2. –ü–æ–ª—É—á–∞–µ—Ç —à–∞–±–ª–æ–Ω –∏–∑ `report_templates`
3. –°–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã –∏–∑ `user_tasks`
4. –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç:

```
[template_text]

–í–æ–ø—Ä–æ—Å ‚Ññ1:
[–≤–æ–ø—Ä–æ—Å 1]

–û—Ç–≤–µ—Ç:
[–æ—Ç–≤–µ—Ç 1]
--------------------------------------------------------------------------------
–í–æ–ø—Ä–æ—Å ‚Ññ2:
[–≤–æ–ø—Ä–æ—Å 2]

–û—Ç–≤–µ—Ç:
[–æ—Ç–≤–µ—Ç 2]
--------------------------------------------------------------------------------
...
```

5. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ OpenAI:
```python
messages = [
    {"role": "system", "content": scenario.system_prompt},
    {"role": "user", "content": —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–ø—Ä–æ–º–ø—Ç_—Å_–æ—Ç—á–µ—Ç–æ–º}
]
```

6. OpenAI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç
7. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `user_progress.final_report`
8. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `status = 'completed'`

**–û—Ç–≤–µ—Ç:**
```json
{
  "completed": true,
  "final_report": "–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á–µ—Ç –æ—Ç AI..."
}
```

## üé® Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è

```tsx
// –ó–∞–¥–∞–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ
<div>
  <h2>–ó–∞–¥–∞–Ω–∏–µ ‚Ññ{task.order}</h2>
  <p>{task.question}</p>  {/* –í–æ–ø—Ä–æ—Å –æ—Ç AI */}
  <textarea value={answer} onChange={...} />
  <button onClick={handleSubmit}>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
</div>
```

### –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–∞–¥–∞–Ω–∏—é

```tsx
const handleSubmit = async () => {
  const result = await submitTaskAnswer(task.id, answer)
  
  if (result.completed) {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
    setFinalReport(result.final_report)
    setShowFinalReport(true)
  } else if (result.next_task) {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
    setTask(result.next_task)
    setAnswer('')
  }
}
```

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞

```tsx
{showFinalReport && (
  <div>
    <h2>–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç</h2>
    <p className="whitespace-pre-wrap">{finalReport}</p>
  </div>
)}
```

## üîß API Reference

### GET /api/tasks/profession/{profession_id}/current

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å.

**Response:**
```json
{
  "id": 1,
  "order": 1,
  "type": "prioritization",
  "time_limit_minutes": 15,
  "question": "–í–æ–ø—Ä–æ—Å –æ—Ç AI"
}
```

### POST /api/tasks/{task_id}/submit

–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞–Ω–∏–µ.

**Request:**
```json
{
  "answer": "–û—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
}
```

**Response (–Ω–µ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ):**
```json
{
  "completed": false,
  "next_task": {
    "id": 2,
    "order": 2,
    "type": "conflict",
    "time_limit_minutes": 15,
    "question": "–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å"
  }
}
```

**Response (–ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ):**
```json
{
  "completed": true,
  "final_report": "–ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –æ—Ç AI"
}
```

### GET /api/tasks/profession/{profession_id}/report

–ü–æ–ª—É—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç.

**Response:**
```json
{
  "final_report": "–û—Ç—á–µ—Ç",
  "completed_at": "2026-01-14T..."
}
```

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏

### 1. –°–æ–∑–¥–∞–π—Ç–µ profession
```sql
INSERT INTO professions (name, description, price) 
VALUES ('–ù–æ–≤–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏—è', '–û–ø–∏—Å–∞–Ω–∏–µ', 990.00);
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ scenario
```sql
INSERT INTO scenarios (profession_id, system_prompt) VALUES
(2, '–¢—ã ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ [–ù–∞–∑–≤–∞–Ω–∏–µ].
–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –∑–∞–¥–∞–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–∏, –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –∏ –¥–∞–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
–¢—ã –Ω–µ –¥–∞–µ—à—å –ø–æ–¥—Å–∫–∞–∑–æ–∫, –Ω–µ –æ–±—ä—è—Å–Ω—è–µ—à—å, –Ω–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ—à—å –æ—Ç–≤–µ—Ç—ã.
–í—Å—ë —Å—Ç—Ä–æ–≥–æ, –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ.');
```

### 3. –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è

**–ü–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¥–µ—Ç–∞–ª—å–Ω–æ–µ):**
```sql
INSERT INTO tasks (scenario_id, description_template, "order", type, time_limit_minutes) VALUES
(2, '–≠—Ç–∞–ø 0. –í–≤–æ–¥–Ω—ã–µ:
–ü—Ä–æ—Ñ–µ—Å—Å–∏—è: [–ù–∞–∑–≤–∞–Ω–∏–µ]
–§–æ—Ä–º–∞—Ç: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è
–í—Ä–µ–º—è: ~60‚Äì90 –º–∏–Ω—É—Ç
–ü—Ä–∞–≤–∏–ª–æ: –æ—Ç–≤–µ—á–∞–π –∫–∞–∫ –Ω–∞ —Ä–∞–±–æ—Ç–µ, –±–µ–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫.

[–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏]

–≠—Ç–∞–ø 1. [–ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ç–∞–ø–∞]:
[–û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏]
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ1:
1. [–ü—É–Ω–∫—Ç 1]
2. [–ü—É–Ω–∫—Ç 2]
3. [–ü—É–Ω–∫—Ç 3]
–û—Ç–≤–µ—á–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ, –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ.', 1, 'type1', 15);
```

**–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞–Ω–∏—è (–∫—Ä–∞—Ç–∫–∏–µ):**
```sql
INSERT INTO tasks (scenario_id, description_template, "order", type, time_limit_minutes) VALUES
(2, '–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π –ó–∞–¥–∞–Ω–∏–µ ‚Ññ2 ‚Äî [–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ].', 2, 'type2', 15),
(2, '–¢–µ–ø–µ—Ä—å –¥–∞–π –ó–∞–¥–∞–Ω–∏–µ ‚Ññ3 ‚Äî [–∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ].', 3, 'type3', 15);
```

### 4. –°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω –æ—Ç—á–µ—Ç–∞
```sql
INSERT INTO report_templates (profession_id, template_text) VALUES
(2, '–¢–µ–ø–µ—Ä—å –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ —Å—Ñ–æ—Ä–º–∏—Ä—É–π –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ —Å–∏–º—É–ª—è—Ü–∏–∏:
1. [–ö—Ä–∏—Ç–µ—Ä–∏–π 1]
2. [–ö—Ä–∏—Ç–µ—Ä–∏–π 2]
3. [–ö—Ä–∏—Ç–µ—Ä–∏–π 3]
4. [–ö—Ä–∏—Ç–µ—Ä–∏–π 4]
5. [–ö—Ä–∏—Ç–µ—Ä–∏–π 5]
6. –ì–¥–µ —Å–∏–ª—å–Ω–µ–µ
7. –ß–µ—Å—Ç–Ω—ã–π –≤–µ—Ä–¥–∏–∫—Ç');
```

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAI

–í `backend/.env`:
```
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4-turbo-preview
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤:** `temperature=0.7`, `max_tokens=1500`
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞:** `temperature=0.5`, `max_tokens=3000`

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏

‚úÖ **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥** - AI –≤–µ–¥–µ—Ç –±–µ—Å–µ–¥—É –∫–∞–∫ –∂–∏–≤–æ–π —ç–∫–∑–∞–º–µ–Ω–∞—Ç–æ—Ä
‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** - AI –≤–∏–¥–∏—Ç –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é –æ—Ç–≤–µ—Ç–æ–≤
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - AI –º–æ–∂–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –æ—Ü–µ–Ω–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏
‚úÖ **–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç—á–µ—Ç–æ–≤** - AI —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## üîç –û—Ç–ª–∞–¥–∫–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `conversation_history` –≤ `user_progress`:
```sql
SELECT conversation_history 
FROM user_progress 
WHERE user_id = X AND profession_id = Y;
```

–≠—Ç–æ JSON –º–∞—Å—Å–∏–≤ —Å–æ –≤—Å–µ–π –∏—Å—Ç–æ—Ä–∏–µ–π –¥–∏–∞–ª–æ–≥–∞ —Å AI.
